import{c as ve,S as H,C as Z,a as le,b as ce,d as he,e as me,f as ye,g as ge,h as pe,j as Se,k as G,G as J,l as we,R as K,Z as Q,m as be,p as xe,n as ee,B as Pe,o as te,q as Ce,i as Me,L as ae,u as Ie}from"./useEcharts-91eba740.js";import{d as ie,a as _e,x as Ae,o as De,f as Le}from"./index-be918a25.js";import{_ as Be}from"./_plugin-vue_export-helper-361d09b5.js";function Te(e,t){return t=t||{},ve(e,null,null,t.state!=="normal")}function Ee(e){var t=H.extend(e);return H.registerClass(t),t}function Fe(e){var t=Z.extend(e);return Z.registerClass(t),t}le([ce,he]);le(me);Ee({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var d=ye(e.data,{coordDimensions:["value"]}),s=new ge(d,this);return s.initData(e.data),s},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});const We=pe({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){t.radiusY==null&&(t.radiusY=t.radius);for(var d=Math.max(Math.ceil(2*t.radius/t.waveLength*4)*2,8);t.phase<-Math.PI*2;)t.phase+=Math.PI*2;for(;t.phase>0;)t.phase-=Math.PI*2;var s=t.phase/Math.PI/2*t.waveLength,v=t.cx-t.radius+s-t.radius*2;e.moveTo(v,t.waterLevel);for(var c=0,S=0;S<d;++S){var W=S%4,o=ze(S*t.waveLength/4,W,t.waveLength,t.amplitude);e.bezierCurveTo(o[0][0]+v,-o[0][1]+t.waterLevel,o[1][0]+v,-o[1][1]+t.waterLevel,o[2][0]+v,-o[2][1]+t.waterLevel),S===d-1&&(c=o[2][0])}t.inverse?(e.lineTo(c+v,t.cy-t.radiusY),e.lineTo(v,t.cy-t.radiusY),e.lineTo(v,t.waterLevel)):(e.lineTo(c+v,t.cy+t.radiusY),e.lineTo(v,t.cy+t.radiusY),e.lineTo(v,t.waterLevel)),e.closePath()}});function ze(e,t,d,s){return t===0?[[e+1/2*d/Math.PI/2,s/2],[e+1/2*d/Math.PI,s],[e+d/4,s]]:t===1?[[e+1/2*d/Math.PI/2*(Math.PI-2),s],[e+1/2*d/Math.PI/2*(Math.PI-1),s/2],[e+d/4,0]]:t===2?[[e+1/2*d/Math.PI/2,-s/2],[e+1/2*d/Math.PI,-s],[e+d/4,-s]]:[[e+1/2*d/Math.PI/2*(Math.PI-2),-s],[e+1/2*d/Math.PI/2*(Math.PI-1),-s/2],[e+d/4,0]]}var P=xe;function re(e){return e&&e.indexOf("path://")===0}Fe({type:"liquidFill",render:function(e,t,d){var s=this,v=this.group;v.removeAll();var c=e.getData(),S=c.getItemModel(0),W=S.get("center"),o=S.get("radius"),z=d.getWidth(),C=d.getHeight(),R=Math.min(z,C),Y=0,A=0,U=e.get("outline.show");U&&(Y=e.get("outline.borderDistance"),A=P(e.get("outline.itemStyle.borderWidth"),R));var M=P(W[0],z),I=P(W[1],C),_,D,L,w=!1,p=e.get("shape");if(p==="container"?(w=!0,_=[z/2,C/2],D=[_[0]-A/2,_[1]-A/2],L=[P(Y,z),P(Y,C)],o=[Math.max(D[0]-L[0],0),Math.max(D[1]-L[1],0)]):(_=P(o,R)/2,D=_-A/2,L=P(Y,R),o=Math.max(D-L,0)),U){var ne=V();ne.style.lineWidth=A,v.add(V())}var oe=w?0:M-o,se=w?0:I-o,B=null;v.add(ue());var k=this._data,q=[];c.diff(k).add(function(a){var r=N(a,!1),l=r.shape.waterLevel;r.shape.waterLevel=w?C/2:o,Se(r,{shape:{waterLevel:l}},e),r.z2=2,X(a,r,null),v.add(r),c.setItemGraphicEl(a,r),q.push(r)}).update(function(a,r){for(var l=k.getItemGraphicEl(r),u=N(a,!1,l),n={},i=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],h=0;h<i.length;++h){var f=i[h];u.shape.hasOwnProperty(f)&&(n[f]=u.shape[f])}for(var y={},m=["fill","opacity","shadowBlur","shadowColor"],h=0;h<m.length;++h){var f=m[h];u.style.hasOwnProperty(f)&&(y[f]=u.style[f])}w&&(n.radiusY=C/2),G(l,{shape:n,x:u.x,y:u.y},e),e.isUniversalTransitionEnabled&&e.isUniversalTransitionEnabled()?G(l,{style:y},e):l.useStyle(y);var g=l.getClipPath(),b=u.getClipPath();l.setClipPath(u.getClipPath()),l.shape.inverse=u.inverse,g&&b&&s._shape===p&&!re(p)&&G(b,{shape:g.shape},e,{isFrom:!0}),X(a,l,l),v.add(l),c.setItemGraphicEl(a,l),q.push(l)}).remove(function(a){var r=k.getItemGraphicEl(a);v.remove(r)}).execute(),S.get("label.show")&&v.add(de(q)),this._shape=p,this._data=c;function T(a,r){if(p)if(re(p)){var l=ee(p.slice(7),{}),u=l.getBoundingRect(),n=u.width,i=u.height;n>i?(i=a*2/n*i,n=a*2):(n=a*2/i*n,i=a*2);var h=r?0:M-n/2,f=r?0:I-i/2;return l=ee(p.slice(7),{},new Pe(h,f,n,i)),r&&(l.x=-n/2,l.y=-i/2),l}else if(w){var y=r?-a[0]:M-a[0],m=r?-a[1]:I-a[1];return te("rect",y,m,a[0]*2,a[1]*2)}else{var y=r?-a:M-a,m=r?-a:I-a;return p==="pin"?m+=a:p==="arrow"&&(m-=a),te(p,y,m,a*2,a*2)}return new Ce({shape:{cx:r?0:M,cy:r?0:I,r:a}})}function V(){var a=T(_);return a.style.fill=null,a.setStyle(e.getModel("outline.itemStyle").getItemStyle()),a}function ue(){var a=T(o);a.setStyle(e.getModel("backgroundStyle").getItemStyle()),a.style.fill=null,a.z2=5;var r=T(o);r.setStyle(e.getModel("backgroundStyle").getItemStyle()),r.style.stroke=null;var l=new J;return l.add(a),l.add(r),l}function N(a,r,l){var u=w?o[0]:o,n=w?C/2:o,i=c.getItemModel(a),h=i.getModel("itemStyle"),f=i.get("phase"),y=P(i.get("amplitude"),n*2),m=P(i.get("waveLength"),u*2),g=c.get("value",a),b=n-g*n*2;f=l?l.shape.phase:f==="auto"?a*Math.PI/4:f;var x=h.getItemStyle();if(!x.fill){var E=e.get("color"),O=a%E.length;x.fill=E[O]}var fe=u*2,F=new We({shape:{waveLength:m,radius:u,radiusY:n,cx:fe,cy:0,waterLevel:b,amplitude:y,phase:f,inverse:r},style:x,x:M,y:I});F.shape._waterLevel=b;var $=i.getModel("emphasis.itemStyle").getItemStyle();$.lineWidth=0,F.ensureState("emphasis").style=$,we(F);var j=T(o,!0);return j.setStyle({fill:"white"}),F.setClipPath(j),F}function X(a,r,l){var u=c.getItemModel(a),n=u.get("period"),i=u.get("direction"),h=c.get("value",a),f=u.get("phase");f=l?l.shape.phase:f==="auto"?a*Math.PI/4:f;var y=function(b){var x=c.count();return x===0?b:b*(.2+(x-a)/x*.8)},m=0;n==="auto"?m=y(5e3):m=typeof n=="function"?n(h,a):n;var g=0;i==="right"||i==null?g=Math.PI:i==="left"?g=-Math.PI:i==="none"?g=0:console.error("Illegal direction value for liquid fill."),i!=="none"&&u.get("waveAnimation")&&r.animate("shape",!0).when(0,{phase:f}).when(m/2,{phase:g+f}).when(m,{phase:g*2+f}).during(function(){B&&B.dirty(!0)}).start()}function de(a){var r=S.getModel("label");function l(){var x=e.getFormattedLabel(0,"normal"),E=c.get("value",0)*100,O=c.getName(0)||e.name;return isNaN(E)||(O=E.toFixed(0)+"%"),x==null?O:x}var u={z2:10,shape:{x:oe,y:se,width:(w?o[0]:o)*2,height:(w?o[1]:o)*2},style:{fill:"transparent"},textConfig:{position:r.get("position")||"inside"},silent:!0},n={style:{text:l(),textAlign:r.get("align"),textVerticalAlign:r.get("baseline")}};Object.assign(n.style,Te(r));var i=new K(u),h=new K(u);h.disableLabelAnimation=!0,i.disableLabelAnimation=!0;var f=new Q(n),y=new Q(n);i.setTextContent(f),h.setTextContent(y);var m=r.get("insideColor");y.style.fill=m;var g=new J;g.add(i),g.add(h);var b=T(o,!0);return B=new be({shape:{paths:a},x:M,y:I}),B.setClipPath(b),h.setClipPath(B),g}},dispose:function(){}});const Ye=ie({name:"waterChart"}),Oe=ie({...Ye,setup(e){const t=_e();return Ae(()=>{let d=Me(t.value),s=.5,v=[s,s,s],c={title:[{text:"\u9884\u7EA6\u91CF",x:"25%",y:30,textAlign:"center",textStyle:{color:"#a1a1a1",fontSize:16,fontFamily:"Microsoft Yahei",fontWeight:"100",textAlign:"center"}},{text:"\u5B9E\u65F6\u5BA2\u6D41\u91CF",x:"75%",y:30,textAlign:"center",textStyle:{color:"#a1a1a1",fontSize:16,fontFamily:"Microsoft Yahei",fontWeight:"100",textAlign:"center"}},{text:(s*100).toFixed(0)+"%",left:"25%",top:"38%",textAlign:"center",textStyle:{fontSize:"50",fontWeight:"300",color:"#a06a0a",textAlign:"center",textBorderColor:"rgba(0, 0, 0, 0)",textShadowColor:"#fff",textShadowBlur:"0",textShadowOffsetX:0,textShadowOffsetY:1}},{text:(s*100).toFixed(0)+"%",left:"75%",top:"38%",textAlign:"center",textStyle:{fontSize:"50",fontWeight:"300",color:"#02456d",textAlign:"center",textBorderColor:"rgba(0, 0, 0, 0)",textShadowColor:"#fff",textShadowBlur:"0",textShadowOffsetX:0,textShadowOffsetY:1}}],series:[{type:"liquidFill",radius:"50%",z:6,center:["25%","50%"],color:[{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:1,color:"rgba(251, 173, 23, 0)"},{offset:.5,color:"rgba(251, 173, 23, .2)"},{offset:0,color:"rgba(251, 173, 23, 1)"}],globalCoord:!1}],data:v,backgroundStyle:{borderWidth:1,color:"transparent"},label:{normal:{formatter:""}},outline:{show:!0,itemStyle:{borderWidth:0},borderDistance:0}},{name:"\u7B2C\u4E8C\u5C42\u767D\u8FB9",type:"pie",z:3,radius:["0%","55%"],center:["25%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{normal:{color:new ae(0,0,0,1,[{offset:0,color:"#fefefe"},{offset:1,color:"#e7e8ea"}])}}},{value:0,itemStyle:{normal:{color:"transparent"}}}]},{name:"\u6700\u5916\u7EFF\u8FB9",type:"pie",z:1,radius:["0%","58%"],center:["25%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{color:"#fdc56e"}},{value:0,itemStyle:{normal:{color:"transparent"}}}]},{type:"liquidFill",radius:"50%",z:6,center:["75%","50%"],color:["#c1dce7","#90d3f0","#009bdb"],data:[.6,{value:.5,direction:"left"},.4,.3],backgroundStyle:{borderWidth:1,color:"transparent"},label:{normal:{formatter:""}},outline:{show:!0,itemStyle:{borderWidth:0},borderDistance:0}},{name:"\u7B2C\u4E8C\u5C42\u767D\u8FB9",type:"pie",z:3,radius:["0%","55%"],center:["75%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{normal:{color:new ae(0,0,0,1,[{offset:0,color:"#fefefe"},{offset:1,color:"#e7e8ea"}])}}},{value:0,itemStyle:{normal:{color:"transparent"}}}]},{name:"\u6700\u5916\u84DD\u8FB9",type:"pie",z:1,radius:["0%","58%"],center:["75%","50%"],hoverAnimation:!1,itemStyle:{normal:{label:{show:!1}}},data:[{value:100,itemStyle:{color:"#07a2e3"}},{value:0,itemStyle:{normal:{color:"transparent"}}}]}]};Ie(d,c)}),(d,s)=>(De(),Le("div",{ref_key:"echartsRef",ref:t,class:"card content-box"},null,512))}});const Ge=Be(Oe,[["__scopeId","data-v-85a680a9"]]);export{Ge as default};
